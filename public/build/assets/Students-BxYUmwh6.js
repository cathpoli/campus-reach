import{r as m,j as e,L as l,a as o}from"./app-BL5UC4wd.js";import{A as g}from"./AppLayout-CxwfE4ym.js";import{P as h}from"./PageMeta-B7nxyKo0.js";import{S as n}from"./sweetalert2.esm.all-B3GDCxSY.js";import"./calender-line-B5yTJBKH.js";function j({students:a}){const[r,i]=m.useState(""),c=(t,d)=>{n.fire({title:"Are you sure?",text:`Do you want to delete ${d}? This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#1b2d5a",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",customClass:{container:"swal-z-index"}}).then(x=>{x.isConfirmed&&o.delete(`/users/students/${t}`,{onSuccess:()=>{n.fire({title:"Deleted!",text:"Student has been deleted successfully.",icon:"success",confirmButtonColor:"#1b2d5a",confirmButtonText:"Okay",customClass:{container:"swal-z-index"}})},onError:()=>{n.fire({title:"Error!",text:"There was an error deleting the student.",icon:"error",confirmButtonColor:"#1b2d5a",customClass:{container:"swal-z-index"}})}})})},s=a.data.filter(t=>t.full_name.toLowerCase().includes(r.toLowerCase())||t.email.toLowerCase().includes(r.toLowerCase())||t.student_number.toLowerCase().includes(r.toLowerCase()));return e.jsxs(g,{children:[e.jsx(h,{title:"Students - Campus Reach",description:"Manage student accounts"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Students"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage and view all student accounts"})]}),e.jsx(l,{href:"/users/students/create",className:"px-4 py-2 text-sm font-medium text-white bg-brand-500 rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2",children:"Add Student"})]}),e.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsx("input",{type:"text",placeholder:"Search students...",value:r,onChange:t=>i(t.target.value),className:"w-full px-4 py-2 text-sm border border-gray-200 rounded-lg dark:border-gray-700 dark:bg-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-500"})}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total: ",s.length," student",s.length!==1?"s":""]})]})}),e.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Full Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Email Address"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Student Number"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Contact Number"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:s.length>0?s.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-white",children:t.full_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.student_number})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.contact_number})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>o.visit(`/users/students/${t.id}/edit`),className:"p-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit student",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>c(t.id,t.full_name),className:"p-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete student",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:r?"No students found matching your search":"No students found"}),r&&e.jsx("p",{className:"mt-1 text-xs text-gray-400 dark:text-gray-500",children:"Try adjusting your search terms"})]})})})})]})}),!r&&a.links.length>3&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",a.from," to ",a.to," of ",a.total," students"]}),e.jsx("div",{className:"flex gap-2",children:a.links.map((t,d)=>e.jsx(l,{href:t.url||"#",className:`px-3 py-1 text-sm rounded-lg ${t.active?"bg-brand-500 text-white":t.url?"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700":"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600"}`,preserveState:!0,preserveScroll:!0,disabled:!t.url,dangerouslySetInnerHTML:{__html:t.label}},d))})]})})]})]})]})}export{j as default};
